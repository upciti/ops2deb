- name: helm
  version: 3.7.1
  homepage: https://helm.sh/
  summary: The Kubernetes package manager
  description: |-
    Tool for managing Kubernetes charts.
    Charts are packages of pre-configured Kubernetes resources.
  depends:
    - kubectl
  fetch:
    url: https://get.helm.sh/helm-v{{version}}-linux-{{goarch}}.tar.gz
    sha256:
      amd64: 6cd6cad4b97e10c33c978ff3ac97bb42b68f79766f1d2284cfd62ec04cd177f4
      armhf: e035e0022cf5c49d08c08371364aae9eebe614a20035856e7370a85ded8db790
      arm64: 57875be56f981d11957205986a57c07432e54d0b282624d68b1aeac16be70704
  script:
    - mv linux-*/helm {{src}}/usr/bin/

- name: helmfile
  version: 0.142.0
  homepage: https://github.com/roboll/helmfile
  summary: Deploy Kubernetes Helm Charts
  description: |-
    Helmfile is a declarative spec for deploying helm charts. It lets you...
    - Keep a directory of chart value files and maintain changes in version
    control.
    - Apply CI/CD to configuration changes.
    - Periodically sync to avoid skew in environments.
  depends:
    - kubectl
    - helm
  fetch:
    url: https://github.com/roboll/helmfile/releases/download/v{{version}}/helmfile_linux_{{goarch}}
    sha256:
      amd64: ec01b884cbb9d072f4a6784b33a29f3311248e85e714ebacabba85a79a3ba3db
      arm64: 92e1da5dc8628830c725c39a2e991b7c1bf957396b7dd8127ceb34ec6607324e
  script:
    - install -m 755 helmfile_linux_* {{src}}/usr/bin/helmfile

- name: istioctl
  version: 1.12.0
  homepage: https://istio.io/
  summary: Istio service mesh CLI
  description: Istio is an open platform to connect, manage, and secure microservices.
  depends:
    - kubectl
  fetch:
    url: https://github.com/istio/istio/releases/download/{{version}}/istio-{{version}}-linux-amd64.tar.gz
    sha256: 7b219d9d0f48bd92901ef4cacb048c10c9f812dd4af120b0e3b353c006b3226e
  script:
    - install -d {{src}}/opt/istio
    - mv * {{src}}/opt/istio/
    - ln -s /opt/istio/istio-{{version}}/bin/istioctl {{src}}/usr/bin/istioctl

- name: kubectl
  version: 1.22.4
  homepage: https://github.com/kubernetes/kubectl
  summary: Command line client for controlling a Kubernetes cluster
  description: |-
    kubectl is a command line client for running commands against Kubernetes
    clusters.
  fetch:
    url: https://storage.googleapis.com/kubernetes-release/release/v{{version}}/bin/linux/amd64/kubectl
    sha256: 21f24aa723002353eba1cc2668d0be22651f9063f444fd01626dce2b6e1c568c
  script:
    - mv kubectl {{src}}/usr/bin/

- name: kubeseal
  version: 0.16.0
  homepage: https://github.com/bitnami-labs/sealed-secrets
  summary: Secret management solution for k8s
  description: |-
    Encrypt your Secret into a SealedSecret, which is safe to store - even to a
    public repository.
  fetch:
    url: https://github.com/bitnami-labs/sealed-secrets/releases/download/v{{version}}/kubeseal-linux-amd64
    sha256: 0899c583053a7c242359985545d9c5c76899fb965dd9d1c46cbcc8b4dd2071ed
  script:
    - install -m 755 kubeseal-linux-amd64 {{src}}/usr/bin/kubeseal

- name: kustomize
  version: 3.8.10
  homepage: https://kustomize.io/
  summary: Kubernetes native configuration management
  description: |-
    kustomize lets you customize raw, template-free YAML files for multiple
    purposes, leaving the original YAML untouched and usable as is. kustomize
    targets kubernetes; it understands and can patch kubernetes style API objects.
    It's like make, in that what it does is declared in a file, and it's like sed,
    in that it emits edited text.
  depends:
    - kubectl
  fetch:
    url: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize/v{{version}}/kustomize_v{{version}}_linux_amd64.tar.gz
    sha256: 10281b6cd16a50fcbb4a762652bf5ab333633d37035fc7f76ee7b941b50b511d
  script:
    - mv kustomize {{src}}/usr/bin/

- name: minikube
  version: 1.24.0
  homepage: https://minikube.sigs.k8s.io/
  summary: Quickly set up a local Kubernetes cluster
  description: |-
    Focus on helping application developers and new Kubernetes users.
    Supports the latest Kubernetes release (+6 previous minor versions)
    Cross-platform (Linux, macOS, Windows)
    Deploy as a VM, a container, or on bare-metal
    Multiple container runtimes (CRI-O, containerd, docker)
    Docker API endpoint for blazing fast image pushes
    Advanced features such as LoadBalancer, filesystem mounts, and FeatureGates
    Addons for easily installed Kubernetes applications
  fetch:
    url: https://storage.googleapis.com/minikube/releases/v{{version}}/minikube-linux-amd64
    sha256: 3bc218476cf205acf11b078d45210a4882e136d24a3cbb7d8d645408e423b8fe
  script:
    - install -m 755 minikube-linux-amd64 {{src}}/usr/bin/minikube

- name: ops2deb
  version: 0.15.0
  homepage: https://github.com/upciti/ops2deb
  summary: Debian packaging tool for portable applications
  description: |-
    Ops2deb is primarily designed to easily generate Debian packages for portable
    applications such as single binary applications and scripts. Packages are
    described using a simple configuration file format. Ops2deb can track new
    releases of upstream applications and automatically bump application versions
    in its configuration file.
  depends:
    - build-essential
    - fakeroot
    - debhelper
  fetch:
    url: https://github.com/upciti/ops2deb/releases/download/{{version}}/ops2deb_linux_amd64.tar.gz
    sha256: 6ff97d7359d414106d4b8246356a4547a9731a36b6b1f514b241ec7175d8304a
  script:
    - mv ops2deb {{src}}/usr/bin/
